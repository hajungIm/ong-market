<!DOCTYPE html>
<html lang="kr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <title>상품 전체 조회</title>
  </head>

  <body>
    <header class="base_header">
      <div class="item_option">
        <button class="item_option__btn" id="item_option_btn">
          <i class="fa-solid fa-check" style="color: #ffffff"></i>
          <p>대면</p>
        </button>

        <select
          class="item_option__select"
          id="select_place"
          name="select_place"
        >
          <option value="all" selected>모두</option>
          <option value="ECC">ECC</option>
          <option value="공학관">공학관(아산공학관, 신공학관)</option>
          <option value="교육관">교육관</option>
          <option value="기숙사e">기숙사(E-house, 한우리)</option>
          <option value="기숙사i">기숙사(I-house)</option>
          <option value="대강당">대강당</option>
          <option value="신세계관">신세계관</option>
          <option value="음악관">음악관</option>
          <option value="정문">정문</option>
          <option value="종합과학관">종합과학관</option>
          <option value="중앙도서관">중앙도서관</option>
          <option value="조형예술관">조형예술관</option>
          <option value="포스코관">포스코관</option>
          <option value="학관">학관</option>
        </select>
      </div>
      <input
        class="reg_item_btn"
        type="button"
        onclick="window.location.href='/reg_item'"
        value="상품등록"
      />
      <!--레이아웃 배치용-->
    </header>

     <main class="list_page_box">
        {% if total > 0 %}
        <p>상품 리스트 -- 현재까지 {{ total }}개 등록됨</p>
        <table>
          <tr>
            <th>상품 이름</th>
            <th>이미지</th>
            <th>판매자</th>
            <th>등록일</th>
            <th>가격</th>
          </tr>
          {% for key, value in datas.items() %}
          <tr>
            <td>{{ key }}</td>
            <td><img src="{{ url_for('static', filename=value.img_path) }}" alt="{{ key }}" width="140" height="200" /></td>
            <td>{{ value.seller }}</td>
            <td>{{ value.date }}</td>
            <td>{{ value.price }}원</td>
          </tr>
          {% endfor %}
        </table>
         
        <!-- 페이지네이션을 위한 코드 시작 -->
        <div class="page-wrap">
            <div class="page-nation">
                <ul>
                    <li>
                    {% for i in range(page_count)%}
                        <a href="{{url_for('list', page=i)}}" style="color:black">{{i}}</a>
                    {% endfor %} </li>
                </ul>
            </div>
        </div>
        
        {% else %}
        <p>등록된 상품이 없습니다.</p>
        {% endif %}

      {% include 'pagination.html' %}
    </main>

    {% include 'nav_bar.html' %}
  </body>
  <script
    src="https://kit.fontawesome.com/afee348a73.js"
    crossorigin="anonymous"
  ></script>
  <script src="../static/screens/list.js"></script>
  <script src="../static/components/like_press.js"></script>
</html>
